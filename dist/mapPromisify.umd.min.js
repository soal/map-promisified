!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self)["vue-mapbox"]=n()}(this,(function(){"use strict";const e={events:[{name:"moveend",check:(e,n)=>n.center&&e.isMoving()},{name:"zoomend",check:(e,n)=>void 0!==n.zoom&&null!==n.zoom&&e.isZooming()},{name:"rotateend",check:(e,n)=>void 0!==n.bearing&&null!==n.bearing&&e.isRotating()},{name:"pitchend",check:(e,n)=>void 0!==n.pitch&&null!==n.bearing&&e.isMoving()}],getter:e=>({center:e.getCenter(),zoom:e.getZoom(),bearing:e.getBearing(),pitch:e.getPitch()})},n={events:[{name:"moveend",check:e=>e.isMoving()}],getter:e=>({center:e.getCenter()})},t={events:[{name:"zoomend",check:e=>e.isZooming()}],getter:e=>({zoom:e.getZoom()})},o={events:[{name:"rotateend",check:e=>e.isRotating()}],getter:e=>({bearing:e.getBearing()})};var i={setCenter:n,panBy:n,panTo:n,setZoom:t,zoomTo:t,zoomIn:t,zoomOut:t,setBearing:o,rotateTo:o,resetNorth:o,snapToNorth:o,setPitch:{events:[{name:"pitchend",check:e=>!0}],getter:e=>({pitch:e.getPitch()})},fitBounds:{events:[{name:"zoomend",check:e=>e.isZooming()},{name:"moveend",check:e=>e.isMoving()},{name:"rotateend",check:e=>e.isRotating()}],getter:e=>({zoom:e.getZoom(),bearing:e.getBearing(),pitch:e.getPitch(),center:e.getCenter()})},fitScreenCoordinates:{events:[{name:"zoomend",check:(e,n)=>e.isZooming()},{name:"moveend",check:(e,n)=>e.isMoving()},{name:"rotateend",check:(e,n)=>n.bearing&&e.isRotating()}],getter:e=>({zoom:e.getZoom(),center:e.getCenter(),bearing:e.getBearing(),pitch:e.getPitch()})},jumpTo:e,easeTo:e,flyTo:e};function c(e){return`${e}-${(""+Math.random()).split(".")[1]}`}function r(e,n,t,o){const i=c=>{c.type===n&&c.eventId===t&&(e.off(n,i),o(c))};return i}function a(e,n){const t=e[n],o=t.length;return(...a)=>{const g=[],m={eventId:c(n)},s=i[n].events.map(((n,t)=>({event:n,func:new Promise(((o,i)=>{g[t]={event:n,func:r(e,n.name,m.eventId,o)},e.on(n.name,g[t].func)}))}))),h=[];for(let e=0;e<o;e++)e===o-1?h.push({...m,...a[e]||{}}):h.push(a[e]||null);let f=[],u=a[0]||{};try{t.apply(e,h),"fitBounds"===n&&(u={}),"fitScreenCoordinates"===n&&(u={bearing:null},u.bearing=null,"number"==typeof a[2]&&(u.bearing=a[2]),a[3]&&"object"==typeof a[3]&&(u={...u,...a[3]})),f=s.map((({event:n,func:t})=>n.check(e,u)?t:(e.off(n.name,t),Promise.resolve())))}catch(n){throw g.forEach((({event:n,func:t})=>{e.off(n.name,t)})),n}return Promise.all(f).then((()=>i[n].getter(e)))}}return function(e,n=null){return n?a(e,n):function(e){const n=Object.keys(i),t={};return n.forEach((o=>{-1!==n.indexOf(o)&&(t[o]=a(e,o))})),t}(e)}}));
